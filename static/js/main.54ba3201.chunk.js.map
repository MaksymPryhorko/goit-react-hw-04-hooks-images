{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Searchbar/Searchbar.jsx","components/Loader/Loader.jsx","components/Modal/Modal.jsx","services/FetchApi.jsx","App.js","index.js"],"names":["module","exports","ImageGalleryItem","smallImage","onClickImage","className","s","onClick","src","alt","ImageGalleryItemImage","ImageGallery","images","map","image","webformatURL","id","Button","buttonContainer","type","Searchbar","onSubmit","useState","searchName","setSearchName","SearchForm","e","preventDefault","SearchFormInput","value","autoComplete","autoFocus","placeholder","onChange","currentTarget","SearchFormButton","SearchFormButtonLabel","Loader","containerLoading","color","height","width","modalRoot","document","querySelector","Modal","toggleModal","children","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","createPortal","Overlay","target","BASE_URL","reducingResponseKeys","data","hits","el","largeImageURL","FetchApi","page","a","axios","get","params","key","q","image_type","orientation","safesearch","per_page","response","console","log","message","App","setImages","setPage","isLoading","setIsLoading","bigModalImage","setBigModalImage","showModal","setShowModal","loadImages","fetchImages","length","alert","prevState","onLoadMoreImages","scrollTo","top","documentElement","scrollHeight","behavior","newSearchName","resetDataState","find","PropTypes","object","isRequired","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.54ba3201.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__31N4U\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__15Oeg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__-zEdt\",\"buttonContainer\":\"Button_buttonContainer__2jQkC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__qXL_U\",\"Modal\":\"Modal_Modal__1pki-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1qAto\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"containerLoading\":\"Loader_containerLoading__3vV2B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__357Q8\",\"SearchForm\":\"Searchbar_SearchForm__2uiAv\",\"SearchFormButton\":\"Searchbar_SearchFormButton__uLf0a\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3FPyh\",\"SearchFormInput\":\"Searchbar_SearchFormInput__OHnSw\"};","import s from \"./ImageGalleryItem.module.css\";\r\n\r\nexport default function ImageGalleryItem({ smallImage, onClickImage }) {\r\n  return (\r\n    <li className={s.ImageGalleryItem} onClick={onClickImage}>\r\n      <img\r\n        src={smallImage}\r\n        alt=\"Изображение не найдено.\"\r\n        className={s.ImageGalleryItemImage}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n","import ImageGalleryItem from \"../ImageGalleryItem\";\r\nimport s from \"./ImageGallery.module.css\";\r\n\r\nexport default function ImageGallery({ images, onClickImage }) {\r\n  return (\r\n    <ul className={s.ImageGallery}>\r\n      {images.map((image) => (\r\n        <ImageGalleryItem\r\n          key={image.id}\r\n          smallImage={image.webformatURL}\r\n          onClickImage={onClickImage}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n","import s from \"./Button.module.css\";\r\n\r\nexport default function Button({ onClick }) {\r\n  return (\r\n    <div className={s.buttonContainer}>\r\n      <button className={s.Button} type=\"button\" onClick={onClick}>\r\n        Load more\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./Searchbar.module.css\";\r\n\r\nexport default function Searchbar({ onSubmit }) {\r\n  const [searchName, setSearchName] = useState(\"\");\r\n\r\n  const onNameChange = (e) => {\r\n    setSearchName(e.currentTarget.value);\r\n  };\r\n\r\n  const onSubmitSearchbar = (e) => {\r\n    e.preventDefault();\r\n    onSubmit(searchName);\r\n    setSearchName(\"\");\r\n  };\r\n\r\n  return (\r\n    <header className={s.Searchbar}>\r\n      <form className={s.SearchForm} onSubmit={onSubmitSearchbar}>\r\n        <input\r\n          className={s.SearchFormInput}\r\n          type=\"text\"\r\n          value={searchName}\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          onChange={onNameChange}\r\n        />\r\n        <button type=\"submit\" className={s.SearchFormButton}>\r\n          <span className={s.SearchFormButtonLabel}>Search</span>\r\n        </button>\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n","import Loading from \"react-loader-spinner\";\r\nimport s from \"./Loader.module.css\";\r\n\r\nexport default function Loader() {\r\n  return (\r\n    <div className={s.containerLoading}>\r\n      <Loading type=\"TailSpin\" color=\"#00BFFF\" height={50} width={50} />\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./Modal.module.css\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nexport default function Modal({ toggleModal, children }) {\r\n  useEffect(() => {\r\n    window.addEventListener(\"keydown\", handleKeyDown);\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", handleKeyDown);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      toggleModal();\r\n    }\r\n  };\r\n\r\n  const onClickOverlay = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      toggleModal();\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <div className={s.Overlay} onClick={onClickOverlay}>\r\n      <div className={s.Modal}>{children}</div>\r\n    </div>,\r\n    modalRoot\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  toggleModal: PropTypes.func.isRequired,\r\n};\r\n","import PropTypes from \"prop-types\";\r\nimport axios from \"axios\";\r\n\r\nconst BASE_URL = \"https://pixabay.com/api/\";\r\n\r\nfunction reducingResponseKeys(data) {\r\n  const newArrayImages = data.hits.map((el) => ({\r\n    id: el.id,\r\n    webformatURL: el.webformatURL,\r\n    largeImageURL: el.largeImageURL,\r\n  }));\r\n  return newArrayImages;\r\n}\r\n\r\nexport default async function FetchApi(searchName, page) {\r\n  try {\r\n    const response = await axios.get(BASE_URL, {\r\n      params: {\r\n        key: \"22710862-ad31ee603fc8e39b27d5b9240\",\r\n        q: `${searchName}`,\r\n        image_type: \"photo\",\r\n        orientation: \"horizontal\",\r\n        safesearch: true,\r\n        per_page: 12,\r\n        page: `${page}`,\r\n      },\r\n    });\r\n    return reducingResponseKeys(response.data);\r\n  } catch (error) {\r\n    console.log(error.message);\r\n  }\r\n}\r\n\r\nFetchApi.PropTypes = {\r\n  data: PropTypes.object.isRequired,\r\n};\r\n","import { useState, useEffect } from \"react\";\n\nimport ImageGallery from \"./components/ImageGallery\";\nimport Button from \"./components/Button\";\nimport Searchbar from \"./components/Searchbar\";\nimport Loader from \"./components/Loader\";\nimport Modal from \"./components/Modal\";\nimport FetchApi from \"./services/\";\n\nexport default function App() {\n  const [images, setImages] = useState([]);\n  const [searchName, setSearchName] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const [isLoading, setIsLoading] = useState(false);\n  const [bigModalImage, setBigModalImage] = useState(\"\");\n  const [showModal, setShowModal] = useState(\"\");\n\n  useEffect(() => {\n    if (searchName === \"\") {\n      return;\n    }\n    setIsLoading(true);\n    loadImages();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchName]);\n\n  const loadImages = async () => {\n    const fetchImages = await FetchApi(searchName, page);\n\n    if (fetchImages.length === 0) {\n      alert(\"Sorry. Nothing found \");\n      setIsLoading(false);\n      return;\n    }\n\n    setImages(fetchImages);\n    setPage((prevState) => prevState + 1);\n    setIsLoading(false);\n  };\n\n  const onLoadMoreImages = async () => {\n    setIsLoading(true);\n    const images = await FetchApi(searchName, page);\n\n    if (images.length !== 0) {\n      setImages((prevState) => [...prevState, ...images]);\n      setPage((prevState) => prevState + 1);\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\",\n      });\n    }\n\n    setIsLoading(false);\n  };\n\n  const onSubmit = async (newSearchName) => {\n    resetDataState();\n    setSearchName(newSearchName);\n  };\n\n  const resetDataState = () => {\n    setImages([]);\n    setSearchName(\"\");\n    setPage(1);\n  };\n\n  const findBigModalImage = (smallImage) => {\n    const bigModalImage = images.find(\n      (image) => image.webformatURL === smallImage\n    );\n    return bigModalImage.largeImageURL;\n  };\n\n  const onClickImage = (e) => {\n    const bigModalImage = findBigModalImage(e.target.src);\n    setBigModalImage(bigModalImage);\n    toggleModal();\n  };\n\n  const toggleModal = () => {\n    setShowModal(!showModal);\n  };\n\n  return (\n    <>\n      {showModal && (\n        <Modal toggleModal={toggleModal}>\n          <img src={bigModalImage} alt=\"Not found.\" />\n        </Modal>\n      )}\n      <Searchbar onSubmit={onSubmit} />\n      <ImageGallery images={images} onClickImage={onClickImage} />\n      {isLoading && <Loader />}\n      {images.length !== 0 && <Button onClick={onLoadMoreImages} />}\n    </>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}